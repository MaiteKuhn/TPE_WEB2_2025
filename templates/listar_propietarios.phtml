<?php
if (!isset($usuario)) {
    $usuario = null;
}
require 'templates/header.phtml';
?>

<div class="prop-cards-container">
    <?php if (!empty($usuario)): ?>
        <a href="<?= BASE_URL ?>agregarPropietario/" class="btn-agregar-prop">Agregar Propietario</a>
    <?php endif; ?>

    <div class="prop-cards-row">
        <?php foreach ($propietarios as $propietario): ?>
            <div class="prop-card">
                <h5><?= htmlspecialchars($propietario->nombre) ?></h5>
                <div style="margin-bottom: 10px;">
                    <strong>Email:</strong> <?= htmlspecialchars($propietario->mail ?? '') ?><br>
                    <strong>Tel√©fono:</strong> <?= htmlspecialchars($propietario->telefono ?? '') ?>
                </div>
                <a href="<?= BASE_URL ?>detallePropietario/<?= $propietario->id_propietario ?>" class="btn btn-ver-detalle">Ver detalle</a>
                <?php if (!empty($usuario)): ?>
                    <a href="<?= BASE_URL ?>editarPropietario/<?= $propietario->id_propietario ?>" class="btn btn-editar">Editar</a>
                    <form action="<?= BASE_URL ?>eliminarPropietario/<?= $propietario->id_propietario ?>" method="POST" style="display:inline-block;">
                        <button type="submit" class="btn btn-eliminar">Eliminar</button>
                    </form>
                <?php endif; ?>
            </div>
        <?php endforeach; ?>
    </div>
</div>

<?php require 'templates/footer.phtml'; ?>
